#移动端h5问题总结
以下问题提到的机型特指原系统自带的浏览器。
##position:fixed
###MX2,ios4不支持fixed

###当设置position:fixed，若滚屏会出现错位。

解决办法：用absolute模拟fixed定位。

[demo](https://julielee77.github.io/demo/0001.html)

###HTML部分

```
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
  <title>absolute stimulates fixed</title>
  <link rel="stylesheet" href="../css/demo/0001.css">
</head>
<body>
<header>
  header fixed
</header>
<section class="main-wrapper">
  <p>...超过一屏的文字</p>
</section>
<footer>
  footer fixed
</footer>
</body>
</html>
```
###css部分（.styl）

```
header,footer
  position absolute
  left 0
  right 0
  background #43a08d
  line-height 44px
  z-index 1
  text-align center
  color #fff
  font-size 20px
header
  top 0
footer
  bottom 0
.main-wrapper
  position absolute
  top 0
  bottom 0
  padding 44px 0
  overflow-y auto
  -webkit-overflow-scrolling touch //ios原生滚动回调效果
  p
    line-height 24px
```

目前，我们团队移动端Andriod为4.0＋，因此可不考虑此bug，但ios若将弹出框等设置为fixed，使其show时会出现页面未渲染出来但DOM文档中可找到（其实是存在的，只是页面看不到，比如验出框的按钮还是可点击的）的情况，这种情况建议还是使用absolute。
此外，position:fixed还有其它一些坑，比如其中不能有input输入框，这样调出键盘后会会出现错位。而且，Android比ios表现更好。[更多fixed坑](https://github.com/maxzhang/maxzhang.github.com/issues/2)
##[disabled]
```input[type=button][disabled]
  opacity 1```
重设ios渲染的opacity=0.4
##1px问题
原生1px等于物理1px，但web的1px则依devicePixelRatio而定。因此，在Retina屏中的1px往往是物理1px的数倍，参照一般devicePixelRatio=2可实现近似1px（当然也可以根据不同devicePixelRatio更精细地适配）
```gray-4 = #e7e7e7 //间隔线vendor(prop, args...)
  -webkit-{prop} args
  {prop} args
.scale
  position relative @unless @position
  &:after
    content ''
    position absolute
    bottom 0 @unless @bottom
    left 0 @unless @left
    right 0 @unless @right
    border-bottom 1px solid gray-4
    vendor transform scaleY(.5)
    vendor transform-origin 0 0  ```
##border-radius
###Android2.3不支持％
会将50%写成一个较大的值，如：
```
div
  border-radius 999px```
###Android及safari低版本img圆角问题
当img有border时设置border-radius会导致圆角变形，需要在img外嵌套一层元素，并设置border和border-radius
###Android4.2.x背景色溢出在Android4.2.x中同时设置border-radius和背景色时，背景色会溢出到圆角以外，需要使用

```background-clip:padding-box; ```来修复，但是如果border-color为半透明时，北京直角部分依然会露出来。
###Android4.2.x不支持border-radius简写
如Galary S4，小米3。解决方法：使用border-radius四个扩展属性，缩写属性放在最后。
```
border-radius(args)
  if(length(args)==1)
	border-top-left-radius args
	border-top-right-radius args
	border-bottom-right-radius args
	border-bottom-left-radius args
	border-radius args
  else
    border-radius args			```
###其它问题
IE9中fieldset不支持border-radius
IE9中带有背景渐变（gradient）的时候背景溢出。

[参考](http://segmentfault.com/a/1190000002496938)
##禁止滚动
移动端设置

```
body{overflow-x:hidden;}
```
不会生效，因为移动端是基于touch，应将内容包裹再设置

```
.wrapper
  position fixed
  overflow-x hidden
```
##background渐变
部分Android对backgorund渐变不支持，而需要使用更明确的background-image属性。 

```
background-image: -webkit-linear-gradient(left, #f8f8f8 0%, #9edef9 50%, #f8f8f8 100%);
``` 
此外，to right写法QQ浏览器／手机safari浏览器不支持。
  
